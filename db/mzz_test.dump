# MySQL-Front 3.2  (Build 12.3)

DROP DATABASE IF EXISTS `mzz_test`;
CREATE DATABASE `mzz_test` /*!40100 DEFAULT CHARACTER SET cp1251 */;
USE `mzz_test`;

/*!40101 SET NAMES cp1251 */;
CREATE TABLE `news_news` (
  `id` int(11) NOT NULL auto_increment,
  `title` varchar(255) NOT NULL default '',
  `editor` varchar(255) NOT NULL default '',
  `text` text NOT NULL,
  `folder_id` int(11) default NULL,
  `created` int(11) default NULL,
  `updated` int(11) default NULL,
  KEY `id` (`id`)
) ENGINE=MyISAM DEFAULT CHARSET=cp1251;

CREATE TABLE `news_news_folder` (
  `id` int(11) NOT NULL auto_increment,
  `name` char(255) default NULL,
  `parent` int(11) default '0',
  `path` char(255) default NULL,
  PRIMARY KEY  (`id`)
) ENGINE=MyISAM DEFAULT CHARSET=cp1251;

CREATE TABLE `news_news_folder_tree` (
  `id` int(10) NOT NULL auto_increment,
  `lkey` int(10) NOT NULL default '0',
  `rkey` int(10) NOT NULL default '0',
  `level` int(10) NOT NULL default '0',
  PRIMARY KEY  (`id`),
  KEY `left_key` (`lkey`,`rkey`,`level`)
) ENGINE=MyISAM DEFAULT CHARSET=cp1251;

CREATE TABLE `page_page` (
  `id` int(11) NOT NULL auto_increment,
  `name` varchar(255) NOT NULL default '',
  `title` varchar(255) NOT NULL default '',
  `content` text NOT NULL,
  KEY `id` (`id`)
) ENGINE=MyISAM DEFAULT CHARSET=cp1251;

CREATE TABLE `simple_simple` (
  `id` int(11) NOT NULL auto_increment,
  `foo` varchar(10) default NULL,
  `bar` varchar(10) default NULL,
  `path` varchar(255) default NULL,
  PRIMARY KEY  (`id`)
) ENGINE=MyISAM DEFAULT CHARSET=cp1251;

CREATE TABLE `simple_simple_tree` (
  `id` int(10) NOT NULL auto_increment,
  `lkey` int(10) NOT NULL default '0',
  `rkey` int(10) NOT NULL default '0',
  `level` int(10) NOT NULL default '0',
  PRIMARY KEY  (`id`),
  KEY `left_key` (`lkey`,`rkey`,`level`)
) ENGINE=MyISAM DEFAULT CHARSET=cp1251;

CREATE TABLE `sys_access` (
  `id` int(11) NOT NULL auto_increment,
  `module_section_action` int(11) default NULL,
  `obj_id` int(11) default NULL,
  `uid` int(11) default NULL,
  `gid` int(11) default NULL,
  `allow` tinyint(1) default NULL,
  `deny` tinyint(1) default NULL,
  PRIMARY KEY  (`id`),
  KEY `module_action_id` (`module_section_action`,`obj_id`,`uid`,`gid`)
) ENGINE=MyISAM DEFAULT CHARSET=cp1251;

INSERT INTO `sys_access` VALUES (4,1,0,3,NULL,1,NULL);
INSERT INTO `sys_access` VALUES (5,2,0,3,NULL,1,NULL);
INSERT INTO `sys_access` VALUES (6,2,0,NULL,4,1,NULL);
INSERT INTO `sys_access` VALUES (7,1,0,0,NULL,1,NULL);
INSERT INTO `sys_access` VALUES (8,2,0,0,NULL,1,NULL);

CREATE TABLE `sys_access_modules` (
  `id` int(11) NOT NULL auto_increment,
  `name` char(255) default NULL,
  PRIMARY KEY  (`id`),
  UNIQUE KEY `name` (`name`)
) ENGINE=MyISAM DEFAULT CHARSET=cp1251;

INSERT INTO `sys_access_modules` VALUES (1,'news');
CREATE TABLE `sys_access_modules_sections` (
  `id` int(11) NOT NULL auto_increment,
  `module_id` int(11) default NULL,
  `section_id` int(11) default NULL,
  PRIMARY KEY  (`id`),
  KEY `module_section` (`section_id`,`module_id`)
) ENGINE=MyISAM DEFAULT CHARSET=cp1251;

INSERT INTO `sys_access_modules_sections` VALUES (1,1,1);
CREATE TABLE `sys_access_modules_sections_actions` (
  `id` int(11) NOT NULL auto_increment,
  `module_section_id` int(11) default NULL,
  `action_id` int(11) default NULL,
  PRIMARY KEY  (`id`),
  UNIQUE KEY `module_action_unique` (`module_section_id`,`action_id`),
  KEY `action_id` (`action_id`),
  KEY `module_id` (`module_section_id`)
) ENGINE=MyISAM DEFAULT CHARSET=cp1251;

INSERT INTO `sys_access_modules_sections_actions` VALUES (1,1,1);
INSERT INTO `sys_access_modules_sections_actions` VALUES (2,1,2);
CREATE TABLE `sys_access_actions` (
  `id` int(11) NOT NULL auto_increment,
  `name` char(255) default NULL,
  PRIMARY KEY  (`id`),
  UNIQUE KEY `name` (`name`)
) ENGINE=MyISAM DEFAULT CHARSET=cp1251;

INSERT INTO `sys_access_actions` VALUES (1,'edit');
INSERT INTO `sys_access_actions` VALUES (2,'delete');
CREATE TABLE `sys_access_sections` (
  `id` int(11) NOT NULL auto_increment,
  `name` char(255) default NULL,
  PRIMARY KEY  (`id`),
  UNIQUE KEY `name` (`name`)
) ENGINE=MyISAM DEFAULT CHARSET=cp1251;

INSERT INTO `sys_access_sections` VALUES (1,'news');

CREATE TABLE `sys_cfg_values` (
  `id` int(11) NOT NULL auto_increment,
  `cfg_id` int(11) NOT NULL default '0',
  `name` varchar(255) NOT NULL default '',
  `value` varchar(255) NOT NULL default '',
  PRIMARY KEY  (`id`),
  UNIQUE KEY `cfg_id_name` (`cfg_id`,`name`)
) ENGINE=MyISAM DEFAULT CHARSET=cp1251;

CREATE TABLE `sys_sessions` (
  `id` int(11) unsigned NOT NULL auto_increment,
  `sid` varchar(50) NOT NULL default '',
  `ts` int(11) unsigned NOT NULL default '0',
  `valid` enum('yes','no') NOT NULL default 'yes',
  `data` text,
  PRIMARY KEY  (`id`),
  KEY `valid` (`valid`),
  KEY `sid` (`sid`)
) ENGINE=MyISAM DEFAULT CHARSET=cp1251;

CREATE TABLE `sys_uid` (
  `id` int(11) unsigned NOT NULL auto_increment,
  PRIMARY KEY  (`id`)
) ENGINE=MyISAM DEFAULT CHARSET=cp1251;

CREATE TABLE `user_user` (
  `id` int(11) NOT NULL auto_increment,
  `login` varchar(255) NOT NULL default '',
  `password` varchar(32) NOT NULL default '',
  PRIMARY KEY  (`id`)
) ENGINE=MyISAM DEFAULT CHARSET=cp1251;

CREATE TABLE `user_user_group` (
  `id` int(11) NOT NULL auto_increment,
  `name` char(255) default NULL,
  PRIMARY KEY  (`id`)
) ENGINE=MyISAM DEFAULT CHARSET=cp1251;

CREATE TABLE `user_user_group_rel` (
  `id` int(11) NOT NULL auto_increment,
  `group_id` int(11) default NULL,
  `user_id` int(11) default NULL,
  PRIMARY KEY  (`id`),
  UNIQUE KEY `group_id` (`group_id`,`user_id`)
) ENGINE=MyISAM DEFAULT CHARSET=cp1251;


